<ion-view title="Search">
  <ion-header>
    <form class="bar bar-header bar-energized item-input-inset" ng-submit="search(searchTerm)">
      <div class="item-input-wrapper energized-bg">
        <i class="icon ion-ios7-search placeholder-icon" ng-class="focused"></i>
        <input type="search"
               id="searchInput"
               placeholder="Search"
               ng-model="searchTerm"
               ng-focus="focused = 'text-left'"
               ng-blur="focused = searchTerm.length?'text-left':'text-center'"
               ng-class="focused">
      </div>
      <i class="icon ion-ios7-close dark" ng-show="searchTerm.length" ng-click="clear()"></i>
    </form>
  </ion-header>
  <ion-content class="has-header has-footer">
    <ion-list>
      <ion-item class="post-list"
                collection-repeat="post in posts"
                collection-item-width="'100%'"
                collection-item-height="88"
                ng-class="post.points > 0?'item-icon-right':''"
                ng-show="post.title.length"
                fp-share
                style="-webkit-calc(100% - 30px);">
        <div style="display: table-row; height:89px;" ng-click="open(post.url)">
          <div style="display:table-cell;vertical-align: middle;">
            <h2>{{post.title}}</h2>
            <p>
              <span ng-if="post.points > 0">{{post.points}} points &nbsp;</span>
              <span ng-if="post.submitted_on.length">{{post.submitted_on}} &nbsp;</span>
              <span ng-if="post.submitted_by.length"> {{post.submitted_by}}</span>
            </p>
          </div>
        </div>
        <a ng-if="post.comments != null" class="icon ion-chatbubble light" ng-click="loadComments(post.id)">
          <span>{{post.comments}}</span>
        </a>
      </ion-item>
    </ion-list>
  </ion-content>
</ion-view>
